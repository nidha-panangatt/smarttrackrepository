{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Route</title>
    <link rel="stylesheet" href="{% static 'route1.css' %}">

</head>
<body>
    <div class="edit-container">
        <h2>Add Route</h2>
        <form>
            {% csrf_token %}
    
            <div class="form-group">
                <label for="route">Route:</label>
                <input type="text" id="route" name="route">
            </div>
    
            <div class="form-group">
                <label for="busno">Bus No:</label>
                <input type="text" id="busno" name="busno">
            </div>
    
            <!-- Container for repeated fields -->
            <div id="repeatedFieldsContainer">
                <div class="repeated-fields">
                    <div class="form-group">
                        <label for="station">Station:</label>
                        <input type="text" name="station[]" placeholder="Enter station name">
                    </div>
    
                    <div class="form-group">
                        <label>Status:</label>
                        <div class="radio-group">
                            <label><input type="radio" name="status[0]" value="active" checked> Active</label>
                            <label><input type="radio" name="status[0]" value="inactive"> Inactive</label>
                        </div>
                    </div>
                </div>
            </div>
    
            <!-- <button id="addFieldButton">Add Another Station</button> -->
            <button type="submit" class="submit-btn">Submit</button>
        </form>
    </div>
    
    <script>
        document.getElementById('addFieldButton').addEventListener('click', function(event) {
            event.preventDefault();
    
            // Get the container holding all repeated fields
            const container = document.getElementById('repeatedFieldsContainer');
    
            // Clone the first repeated-fields div
            const original = container.querySelector('.repeated-fields');
            const clone = original.cloneNode(true);
    
            // Clear input values in the cloned fields
            clone.querySelector('input[name="station[]"]').value = '';
    
            // Adjust name attributes to ensure unique groupings for radio buttons
            const statusRadios = clone.querySelectorAll('input[type="radio"]');
            const newIndex = container.children.length; // Count current repeated fields
            statusRadios.forEach(radio => {
                radio.name = status[${newIndex}];
                radio.checked = false; // Reset radio buttons
            });
    
            // Append the cloned fields to the container
            container.appendChild(clone);
        });
    </script>
    </body>
</html>
    